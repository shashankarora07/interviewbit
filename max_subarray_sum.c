#include <stdio.h>
#include <stdlib.h>
#include <limits.h>


int maxSubArray(const int* , int );

int main()
{
    const int arr[] = {-338, -30, -484, -171, -254, -89, 10, -471, 67, -420, -20, -445, -220, -122, 29, -437, -102, -145, -193, -75, -261, -456, -146, -122, -102, 51, -35, -125, -391, -251, -226, -359, -60, -190, -381, -417, 13, -165, -282, -117, -489, 14, -81, -366, -187, -35, -410, 9, -322, -211, -492, -132, -146, -69, 23, 83, 58, -500, 92, -51, -90, -255, -56, -483, -170, 68, 14, -19, 74, 34, -264, -294, -245, -38, -206, 45, -283, -124, -339, -361, -89, 4, -235, 66, -430, 12, -174, -272, -288, 2, -97, -427, -476, -325, -478, 20, -309, -78, -77, -362, -492, -118, -267, 48, -478, -450, -146, -487, -86, -147, -185, -249, -37, 26, -89, 39, -413, -64, -377, -326, -342, -191, -151, -89, -148, -454, -167, -419, -194, -288, -194, -141, -127, -471, -397, -396, -176, -3, 34, -98, -73, -339, -91, -127, -315, 89, -411, -23, -95, -22, -252, 43, 38, -140, -329, -176, 94, -81, -139, 66, -98, -110, -394, -451, -102, -250, -121, -361, -357, -395, -125, -148, -207, -208, 40, -352, 42, -69, 31, -161, -371, 39, -143, -113, -55, 1, -126, -248, -299, -397, -188, -353, 77, -150, -163, -406, -291, -363, -343, -6, -241, -279, -120, 1, -45, 92, -245, -253, -312, -379, -322, -410, -83, -491, -332, -174, 67, -404, -182, -226, -192, 27, -335, -83, -332, -270, -295, -184, 70, -218, -398, -149, -286, -402, -178, -55, -482, -436, -152, -81, -330, -6, 41, -427, -205, -430, -162, -7, 23, 60, -99, -437, 81  };


    int len = sizeof(arr)/sizeof(arr[0]);
	

//  max_subarray(arr,len);
	maxSubArray(arr,len);
    return 0;
}


int maxSubArray(const int* A, int n1) {
    int i, j, k = 0, sum = 0;
    //int *max_arr = (int *)malloc(sizeof(int)*(n1*(n1+1)));
	int size = n1*(n1+1);
	int max_arr[size];
    int count = 0;
	int max_sum = INT_MIN;
	int flag = 1;
   
 /*   for (i = 0; i < n1; i++) {
            k = i;
        for (j = i; j < n1; j++) {
            while (k <= j) {
               // printf("%d ",*(a+k));
                sum += *(A+k);
                k++;
				if (flag == 1)
					max_sum = sum;
				flag = 0;
            }
            //max_arr[count] = sum;
            //count++;
            //printf("\n");
			
			if (sum > max_sum)
				max_sum = sum;
            k = i;
            sum = 0;
        }

//	printf("Count = %d\n",count);
    }
*/
/*
    int max_sum = *(max_arr+0);
    for (i = 0; i < count; i++) {
        if (*(max_arr+i)>max_sum) {
            max_sum = *(max_arr+i);
        }
    }
 */
	for (i = 0; i < n1; i++) {
		sum += *(A+i);
		if (sum > max_sum)
			max_sum = sum;
		if (sum < 0)
			sum = 0;
	}
  
    printf("max_sum in contiguous subarray = %d\n",max_sum);
    return max_sum;
   
}
